var _0x3827=['max','size','lineWidth','result','#eps-bar','pow','.image-top[data-kbn=\x22org\x22]','reject','.diff-tr[data-page=','fin','rgba(255,\x200,\x200,\x200.5)','application/json','1174629IhEkuj','.image-top[data-kbn=','initLoad','.rect-w','val','img-','push','.canvas-rect','.page-pos','#rect-box','1MtToFm','false','show','apply','#diff-toggle','data-page','.image-top','.canvas-image','.pages[data-page=','application/json;\x20charset=UTF-8','find','image64s','data:image/jpeg;base64,','#image-toggle','.image-tr','siblings','.canvas-light','PDF画像化中：','open','distance','ファイルダウンロード中','stringify','pop','.rect-pos','.table-label','.pages','#rect-tag','.diff-pos','差分比較中','each','readAsDataURL','createElement','.image-td','width','ceil','差分あり','#image-tag','diffPos','html','base64,','getAttribute','.canvas-','416256tmjYzm','clearRect','差分なし','remove','length','data','.image-tr[data-page=','data-diff-no','checked','details','hide','.pdfimg','json','body','1CdNIRF','onunload','promise','.page-table','.image-top[data-kbn=\x22','onload','getImageData','setAttribute','data-kbn','.rect-detail-top[data-rect-id=','66481jPdBWi','249291xSmOLJ','#blank-tag','target','readAsText','parse','.diff-label-wrap','label','#auto-toggle','#diff-btn','#light-toggle','.image-top[data-kbn=\x22dst\x22]','fillRect','css','#diff-label-tag','#rect-toggle','1fKDlUe','render','data-rect-id','./pdf/image/data','document','log','fail','.rect-y','GET','pdfimg','substr','strokeRect','done','naturalHeight','382920LCyHNQ','#diff-tag','763943eOvfsV','image','fillStyle','pdf','files','.blank-remove','data-image-no','678577hAEYAs','&no=','light','change','.file-label','.rect-label','text','naturalWidth','getContext','.image-pos','name','.cell-top','prop','.rect-h','getElementById','POST','always','resolve','height','attr','width=0,height=0,scrollbars=yes,resizable=no','lastIndexOf','toLowerCase','click','drawImage','差分比較中：','get','.diff-label-pos','#view-control','when','2KJjtTW','dataTransfer','data-diff','エラー発生:','indexOf','diff','ajax','insertBefore','.rect-x','download','エラー発生','closed','closest','Deferred','getTime','cnt'];var _0x4822d1=_0x4fef;(function(_0x7fe337,_0x55d8fc){var _0x3cb76d=_0x4fef;while(!![]){try{var _0x49c416=-parseInt(_0x3cb76d(0xc4))*parseInt(_0x3cb76d(0x108))+-parseInt(_0x3cb76d(0x140))*-parseInt(_0x3cb76d(0xfe))+-parseInt(_0x3cb76d(0x14a))*parseInt(_0x3cb76d(0x15a))+parseInt(_0x3cb76d(0xbd))+parseInt(_0x3cb76d(0xbb))+-parseInt(_0x3cb76d(0xe2))*parseInt(_0x3cb76d(0x14b))+-parseInt(_0x3cb76d(0x132));if(_0x49c416===_0x55d8fc)break;else _0x7fe337['push'](_0x7fe337['shift']());}catch(_0x3d509c){_0x7fe337['push'](_0x7fe337['shift']());}}}(_0x3827,0xa185c));const BASE64_POS=_0x4822d1(0x12f);function getFileBase64(_0x5927b4){var _0x489ad6=_0x4822d1,_0x5715a2=new $['Deferred'](),_0x7002e8=new FileReader();return _0x7002e8[_0x489ad6(0x145)]=function(_0x567189){var _0x41be2b=_0x489ad6,_0x5e4feb=_0x567189['target'][_0x41be2b(0xf5)],_0x2fa999=_0x5e4feb[_0x41be2b(0xe6)](BASE64_POS);if(_0x2fa999<0x0){alert('ファイル取得失敗。やり直しをお願いします'),_0x5715a2[_0x41be2b(0xf9)]();return;}var _0x46041a=_0x5e4feb['substr'](_0x2fa999+BASE64_POS[_0x41be2b(0x136)]);_0x5715a2[_0x41be2b(0xd5)](_0x46041a);},_0x7002e8[_0x489ad6(0x126)](_0x5927b4),_0x5715a2['promise']();}function getFileText(_0x3355c0){var _0x18acc5=_0x4822d1,_0x5af94e=new $[(_0x18acc5(0xef))](),_0x290d2c=new FileReader();return _0x290d2c[_0x18acc5(0x145)]=function(_0xfc51b5){var _0x407a02=_0x18acc5,_0x37cb89=_0xfc51b5[_0x407a02(0x14d)][_0x407a02(0xf5)];_0x5af94e[_0x407a02(0xd5)](_0x37cb89);},_0x290d2c[_0x18acc5(0x14e)](_0x3355c0),_0x5af94e[_0x18acc5(0x142)]();}function getPdfImage(_0x43136f){var _0x477728=_0x4822d1,_0x4dbd19=new $[(_0x477728(0xef))]();return startMakeImage(_0x43136f)[_0x477728(0xb9)](function(_0x4dd4f2){var _0x1ac92c=_0x477728,_0x1709dd=new $[(_0x1ac92c(0xef))]();_0x1709dd[_0x1ac92c(0x142)]();var _0x3da62c=setInterval(function(){var _0x13b154=_0x1ac92c;checkPdfImage(_0x4dd4f2)[_0x13b154(0xb9)](function(_0x27b827){var _0x212193=_0x13b154;refreshLoadingMessage(_0x212193(0x119)+_0x27b827[_0x212193(0xf1)]+'/'+_0x27b827[_0x212193(0xf2)]),_0x27b827[_0x212193(0xfb)]&&(wait=![],_0x1709dd[_0x212193(0xd5)]());})[_0x13b154(0xb3)](function(_0x54b86c){var _0x980fe4=_0x13b154;_0x1709dd[_0x980fe4(0xf9)](),_0x4dbd19[_0x980fe4(0xf9)](),alert(_0x980fe4(0xec)),console[_0x980fe4(0x15f)](_0x54b86c);});},0x3e8);_0x1709dd[_0x1ac92c(0xb9)](function(){var _0x4f46b0=_0x1ac92c;downloadPdfImage(_0x4dd4f2)[_0x4f46b0(0xb9)](function(_0x19057f){var _0x260d18=_0x4f46b0;_0x4dbd19[_0x260d18(0xd5)](_0x19057f);});})[_0x1ac92c(0xd4)](function(){clearInterval(_0x3da62c);});}),_0x4dbd19[_0x477728(0x142)]();}function startMakeImage(_0x204fc8){var _0x51254e=_0x4822d1,_0x93b9d0=new $['Deferred']();return dispLoading('イメージファイル取得開始'),params={'pdf64':_0x204fc8},$['ajax']({'url':'./pdf/image/start','type':_0x51254e(0xd3),'headers':{'content-type':_0x51254e(0x111)},'data':JSON[_0x51254e(0x11d)](params),'dataType':'json','timeout':0x186a0})[_0x51254e(0xb9)](function(_0x3b0de2){var _0x4f3562=_0x51254e;_0x93b9d0[_0x4f3562(0xd5)](_0x3b0de2);})[_0x51254e(0xb3)](function(_0x4f94f0){var _0x2a31fd=_0x51254e;$('.pages')[_0x2a31fd(0x135)](),_0x93b9d0[_0x2a31fd(0xf9)](_0x4f94f0),alert(_0x2a31fd(0xe5)),console[_0x2a31fd(0x15f)](_0x4f94f0);})[_0x51254e(0xd4)](function(){removeLoading();}),_0x93b9d0[_0x51254e(0x142)]();}function checkPdfImage(_0xf2299e){var _0x285114=_0x4822d1,_0x160f16=new $['Deferred']();return $[_0x285114(0xe8)]({'url':'./pdf/image/status','type':_0x285114(0xb5),'data':{'tid':_0xf2299e},'dataType':_0x285114(0x13e),'timeout':0x2710})[_0x285114(0xb9)](function(_0x58eca5){var _0x4f3760=_0x285114;_0x160f16[_0x4f3760(0xd5)](_0x58eca5);})[_0x285114(0xb3)](function(_0x1e8bc7){var _0x10001e=_0x285114;_0x160f16[_0x10001e(0xf9)](_0x1e8bc7),console['log'](_0x1e8bc7),alert(_0x10001e(0xe5));}),_0x160f16[_0x285114(0x142)]();}function downloadPdfImage(_0x102937){var _0x702e48=_0x4822d1,_0x4c9627=new $['Deferred']();return dispLoading(_0x702e48(0x11c)),$[_0x702e48(0xe8)]({'url':_0x702e48(0x15d),'type':_0x702e48(0xd3),'data':{'tid':_0x102937},'dataType':_0x702e48(0x13e),'timeout':0x186a0})[_0x702e48(0xb9)](function(_0x338820){var _0x3e71ac=_0x702e48;_0x4c9627['resolve'](_0x338820[_0x3e71ac(0x113)]);})[_0x702e48(0xb3)](function(_0xf75f6b){var _0x381d7a=_0x702e48;_0x4c9627[_0x381d7a(0xf9)](_0xf75f6b),console['log'](_0xf75f6b),alert('エラー発生:');})[_0x702e48(0xd4)](function(){removeLoading();}),_0x4c9627[_0x702e48(0x142)]();}function getCssHeight(_0x4ca167){var _0x27b55a=_0x4822d1,_0x3d5644=_0x4ca167[_0x27b55a(0x157)](_0x27b55a(0xd6));return _0x3d5644=_0x3d5644[_0x27b55a(0xb7)](0x0,_0x3d5644[_0x27b55a(0x136)]-0x2),Math['ceil'](_0x3d5644);}function setupImageTable(_0x57b102,_0x47a9aa){var _0x198643=_0x4822d1,_0x5ea6d5=new $[(_0x198643(0xef))]();_0x57b102[_0x198643(0x112)](_0x198643(0x116))[_0x198643(0x135)](),$('.canvas-image')[_0x198643(0xd7)]('data-diff-no','X'),viewListImages(_0x47a9aa,_0x57b102);popWin&&!popWin[_0x198643(0xed)]&&popWin['close']();var _0x86b14b=!![];return $[_0x198643(0x125)]($(_0x198643(0x10e)),function(_0x369cf6,_0x451b86){if(!$(_0x451b86)['attr']('data-loaded'))return _0x86b14b=![],![];}),_0x86b14b?($(_0x198643(0xc8))[_0x198643(0x157)](_0x198643(0x129),MAX_WIDTH),$(_0x198643(0x120))[_0x198643(0x157)](_0x198643(0xd6),0x0+'px'),setTimeout(function(){var _0x4d9078=_0x198643;$(_0x4d9078(0x143))[_0x4d9078(0x10a)](),$('.diff-table')[_0x4d9078(0x10a)](),$(_0x4d9078(0x107))[_0x4d9078(0x10a)](),$(_0x4d9078(0xe0))[_0x4d9078(0x10a)](),$(_0x4d9078(0xcf))['show']();var _0x952c8e=0x0;$['each']($(_0x4d9078(0x120)),function(_0x2893a5,_0x285d0d){var _0x1a27cf=getCssHeight($(_0x285d0d));_0x952c8e<_0x1a27cf&&(_0x952c8e=_0x1a27cf);}),$(_0x4d9078(0x120))[_0x4d9078(0x157)](_0x4d9078(0xd6),_0x952c8e),viewDiff(),_0x5ea6d5[_0x4d9078(0xd5)]();},0x1)):_0x5ea6d5['resolve'](),_0x5ea6d5[_0x198643(0x142)]();}function viewListImages(_0x2a9fab,_0x5eabe9){var _0x1891d9=_0x4822d1,_0x5b162e=new Array(),_0x3f4f4a=0x0;for(var _0x55e3a6=0x0;_0x55e3a6<_0x2a9fab[_0x1891d9(0x136)];_0x55e3a6++){_0x5b162e[_0x55e3a6]=new Image(),_0x5b162e[_0x55e3a6][_0x1891d9(0x145)]=function(_0x39c806){var _0x547745=_0x1891d9;drawCanvas(_0x39c806[_0x547745(0x14d)],_0x5eabe9,_0x3f4f4a++);},_0x5b162e[_0x55e3a6]['src']=_0x1891d9(0x114)+_0x2a9fab[_0x55e3a6];}}function getDownloadTag(_0x43ff92,_0x353d1b){var _0x23228a=_0x4822d1,_0x8bf286=document[_0x23228a(0x127)]('a');return _0x8bf286[_0x23228a(0xeb)]=_0x353d1b,_0x8bf286['href']=URL['createObjectURL'](new Blob([_0x43ff92],{'type':_0x23228a(0xfd)})),_0x8bf286[_0x23228a(0xca)]=_0x353d1b,_0x8bf286;}const MAX_WIDTH=0x12c;function drawCanvas(_0x23f7a0,_0x1d1521,_0x3ed522){var _0x748033=_0x4822d1;const _0x2f95b1=_0x23f7a0[_0x748033(0xcb)],_0x290ab0=_0x23f7a0[_0x748033(0xba)];var _0x1b8fa1=_0x2f95b1,_0x47a739=_0x290ab0,_0x4e72ab=0x1;_0x2f95b1>MAX_WIDTH&&(_0x4e72ab=MAX_WIDTH/_0x2f95b1,_0x1b8fa1=MAX_WIDTH,_0x47a739=Math[_0x748033(0x12a)](_0x290ab0*_0x4e72ab));var _0x9a6aa9=_0x1d1521[_0x748033(0x112)](_0x748033(0xcd)),_0x3196ef={'idx':_0x3ed522,'width':_0x2f95b1,'height':_0x290ab0,'cssWidth':_0x1b8fa1,'cssHeight':_0x47a739},_0x1cbeaa=$($(_0x748033(0x12c))[_0x748033(0x15b)](_0x3196ef));_0x1cbeaa[_0x748033(0xe9)](_0x9a6aa9);var _0x2f05d4=_0x1cbeaa['find'](_0x748033(0x10f));const _0x23ecae=_0x2f05d4['get'](0x0)[_0x748033(0xcc)]('2d');_0x23ecae[_0x748033(0xdc)](_0x23f7a0,0x0,0x0);}function viewDiff(){var _0x13e31c=_0x4822d1;const _0x451545=$(_0x13e31c(0x152))[_0x13e31c(0xd0)](_0x13e31c(0x13a));if(_0x451545)return;doDiff();}function doDiff(){var _0x356425=_0x4822d1;$('.page-tr')[_0x356425(0x135)](),$('.diff-tr')[_0x356425(0x135)]();var _0x35a498=$(_0x356425(0x106)),_0x51d0ad=$(_0x356425(0x123)),_0x199a8b=[],_0xa0a050=$(_0x356425(0xf8))[_0x356425(0x112)](_0x356425(0x116)),_0x502a1c=_0xa0a050[_0x356425(0x136)],_0x1e148f=$(_0x356425(0xf6))[_0x356425(0x102)]()/0x64*0x2fa03,_0x243250=getRectList();refreshLoadingMessage(_0x356425(0x124)),$[_0x356425(0x125)](_0xa0a050,function(_0x44700d,_0x4565fa){var _0x253176=_0x356425,_0x50ea0b=new $[(_0x253176(0xef))]();_0x199a8b[_0x253176(0x104)](_0x50ea0b);var _0x142bd3=$(_0x4565fa)[_0x253176(0x112)](_0x253176(0x128)),_0x43ab9e=$(_0x253176(0x155)),_0x7c2b7f=_0x43ab9e[_0x253176(0x112)](_0x253176(0x138)+_0x44700d+']');if(!_0x7c2b7f[_0x253176(0xde)](0x0))return _0x50ea0b[_0x253176(0xd5)](),!![];var _0x36b24e=_0x7c2b7f[_0x253176(0x112)]('.image-td'),_0x546d92=getCssHeight(_0x142bd3),_0x3d415d=getCssHeight(_0x36b24e),_0x106fef=Math[_0x253176(0xf2)](_0x546d92,_0x3d415d);_0x142bd3['css'](_0x253176(0xd6),_0x106fef),_0x36b24e[_0x253176(0x157)](_0x253176(0xd6),_0x106fef);var _0x10e175={'idx':_0x44700d,'height':_0x106fef},_0x1bfb91=$($('#page-tag')[_0x253176(0x15b)](_0x10e175));_0x1bfb91[_0x253176(0xe9)](_0x35a498);var _0x38d5ff=$($(_0x253176(0xbc))[_0x253176(0x15b)](_0x10e175));_0x38d5ff[_0x253176(0xe9)](_0x51d0ad);var _0x42e622=$(_0x253176(0xfa)+_0x44700d+']'),_0x2a5f3f=getPageRectList(_0x243250,_0x44700d);setTimeout(function(){var _0x499761=_0x253176;refreshLoadingMessage(_0x499761(0xdd)+(_0x44700d+0x1)+'/'+_0x502a1c),calcViewDiff(_0x142bd3,_0x36b24e,_0x42e622,_0x1e148f,_0x2a5f3f),_0x50ea0b[_0x499761(0xd5)]();},0x1),_0x50ea0b[_0x253176(0x142)]();}),$[_0x356425(0xe1)][_0x356425(0x10b)]($,_0x199a8b)[_0x356425(0xb9)](function(){var _0x3ff5dd=_0x356425;removeLoading(),$('#light-toggle')['change'](),$(_0x3ff5dd(0x115))['change'](),$('#rect-toggle')[_0x3ff5dd(0xc7)](),$(_0x3ff5dd(0x10c))[_0x3ff5dd(0xc7)](),popWinReload();});}function getPageRectList(_0x1de8c4,_0x48d93c){var _0x9482a2=_0x4822d1,_0x1b83b8=[];for(var _0x158d62=0x0;_0x158d62<_0x1de8c4[_0x9482a2(0x136)];_0x158d62++){var _0x317054=_0x1de8c4[_0x158d62],_0x9c1af4=_0x317054[_0x9482a2(0x13b)],_0x407e00=_0x317054[_0x9482a2(0x13a)];for(var _0x385ba7=0x0;_0x385ba7<_0x9c1af4[_0x9482a2(0x136)];_0x385ba7++){if(_0x9c1af4[_0x385ba7]==_0x48d93c){_0x407e00=!_0x407e00;break;}}_0x1b83b8[_0x9482a2(0x104)]({'id':_0x317054['id'],'checked':_0x407e00,'label':_0x317054[_0x9482a2(0x151)],'x':_0x317054['x'],'y':_0x317054['y'],'width':_0x317054[_0x9482a2(0x129)],'height':_0x317054[_0x9482a2(0xd6)]});}return _0x1b83b8;}function calcViewDiff(_0x85286f,_0x34768c,_0x4e0e80,_0x444415,_0x400f86){var _0x328d23=_0x4822d1,_0x3038bc=_0x85286f[_0x328d23(0x112)](_0x328d23(0x10f))[_0x328d23(0xde)](0x0),_0xb6341a=_0x34768c[_0x328d23(0x112)](_0x328d23(0x10f))[_0x328d23(0xde)](0x0),_0x4ee4e3=getDiff(_0x3038bc,_0xb6341a),_0x25a802=getEpsDiffResult(_0x4ee4e3,_0x444415),_0x441fa0=_0x85286f[_0x328d23(0x112)](_0x328d23(0x118))[_0x328d23(0xde)](0x0),_0x1ac610=_0x34768c[_0x328d23(0x112)](_0x328d23(0x118))[_0x328d23(0xde)](0x0);drawDiffLight(_0x441fa0,_0x25a802),drawDiffLight(_0x1ac610,_0x25a802);var _0x1b2116=getRectDiffResult(_0x25a802,_0x400f86),_0x215146=_0x85286f[_0x328d23(0x112)](_0x328d23(0x105))[_0x328d23(0xde)](0x0),_0x468ecf=_0x34768c[_0x328d23(0x112)]('.canvas-rect')[_0x328d23(0xde)](0x0);drawRectList(_0x215146,_0x400f86),drawRectList(_0x468ecf,_0x400f86);var _0x1164b0=_0x4e0e80[_0x328d23(0x112)]('.diff-result');_0x1164b0['text'](getDiffText(_0x1b2116));var _0x44338e=![];(!_0x1b2116||_0x1b2116[_0x328d23(0xe7)])&&(_0x44338e=!![]),_0x4e0e80[_0x328d23(0xd7)]('data-diff',_0x44338e),_0x1b2116&&viewDiffRect(_0x4e0e80,_0x400f86),popWinReload();}function drawDiffLight(_0x10b159,_0x456e79){var _0x3826fa=_0x4822d1;if(!_0x10b159)return;const _0x498441=_0x10b159[_0x3826fa(0x130)](_0x3826fa(0x129)),_0xbea2a4=_0x10b159[_0x3826fa(0x130)](_0x3826fa(0xd6));var _0x448795=_0x10b159[_0x3826fa(0xcc)]('2d');_0x448795['clearRect'](0x0,0x0,_0x498441,_0xbea2a4);if(!_0x456e79||!_0x456e79[_0x3826fa(0xe7)])return;_0x448795[_0x3826fa(0xbf)]=_0x3826fa(0xfc),_0x448795[_0x3826fa(0xf4)]=0x0;const _0x18523c=_0x456e79['diffPos'];for(var _0x5187b8=0x0;_0x5187b8<_0x18523c[_0x3826fa(0x136)];_0x5187b8++){_0x448795[_0x3826fa(0x156)](_0x18523c[_0x5187b8]['x'],_0x18523c[_0x5187b8]['y'],0x1,0x1);}}var diffMap=[];function getDiff(_0x444760,_0x47acbd){var _0x38be78=_0x4822d1;if(!_0x444760)return null;let _0x1328e5;const _0x2323de=_0x444760[_0x38be78(0x130)](_0x38be78(0xc3)),_0x48fb67=_0x444760[_0x38be78(0x130)]('data-diff-no');if(!_0x47acbd)return _0x1328e5=null,diffMap[_0x2323de]=_0x1328e5,_0x1328e5;const _0x3fed13=_0x47acbd['getAttribute'](_0x38be78(0xc3));if(_0x48fb67==_0x3fed13)return diffMap[_0x2323de];const _0x5bbe42=_0x444760[_0x38be78(0x129)],_0x2cdc0e=_0x444760[_0x38be78(0xd6)];if(_0x5bbe42!=_0x47acbd[_0x38be78(0x129)]||_0x2cdc0e!=_0x47acbd[_0x38be78(0xd6)])return _0x1328e5={'diff':!![],'size':![],'diffPos':[]},diffMap[_0x2323de]=_0x1328e5,_0x444760[_0x38be78(0x147)](_0x38be78(0x139),_0x3fed13),_0x1328e5;const _0xf58c4e=_0x444760[_0x38be78(0xcc)]('2d'),_0x63ec18=_0x47acbd['getContext']('2d');var _0x1356de=_0xf58c4e[_0x38be78(0x146)](0x0,0x0,_0x5bbe42,_0x2cdc0e)['data'],_0x4ba75b=_0x63ec18[_0x38be78(0x146)](0x0,0x0,_0x5bbe42,_0x2cdc0e)[_0x38be78(0x137)],_0x4afcd4=[],_0x469980=![],_0x1356de=_0xf58c4e['getImageData'](0x0,0x0,_0x5bbe42,_0x2cdc0e)[_0x38be78(0x137)];for(var _0x5a4d87=0x0;_0x5a4d87<_0x5bbe42;_0x5a4d87++){for(var _0x46e13e=0x0;_0x46e13e<_0x2cdc0e;_0x46e13e++){const _0x47ae01=(_0x5a4d87+_0x46e13e*_0x5bbe42)*0x4,_0x4f91e7=_0x47ae01,_0x18d96d=_0x47ae01+0x1,_0x274c3f=_0x47ae01+0x2,_0x40be0a=_0x47ae01+0x3;var _0x4aa234=_0x1356de[_0x4f91e7]-_0x4ba75b[_0x4f91e7],_0x335caf=_0x1356de[_0x18d96d]-_0x4ba75b[_0x18d96d],_0x30c15f=_0x1356de[_0x274c3f]-_0x4ba75b[_0x274c3f];let _0x12a68c=Math[_0x38be78(0xf7)](_0x4aa234,0x2)+Math[_0x38be78(0xf7)](_0x335caf,0x2)+Math['pow'](_0x30c15f,0x2);_0x12a68c>0x0&&(_0x4afcd4[_0x38be78(0x104)]({'x':_0x5a4d87,'y':_0x46e13e,'distance':_0x12a68c}),_0x469980=!![]);}}if(_0x469980)return _0x1328e5={'diff':!![],'size':!![],'diffPos':_0x4afcd4},diffMap[_0x2323de]=_0x1328e5,_0x444760[_0x38be78(0x147)](_0x38be78(0x139),_0x3fed13),_0x1328e5;return _0x1328e5={'diff':![],'size':!![],'diffPos':[]},diffMap[_0x2323de]=_0x1328e5,_0x444760[_0x38be78(0x147)]('data-diff-no',_0x3fed13),_0x1328e5;}function getEpsDiffResult(_0x307160,_0x336986){var _0x5281bd=_0x4822d1;if(!_0x307160)return null;if(!_0x307160[_0x5281bd(0xe7)])return{'diff':![],'size':!![],'diffPos':[]};if(!_0x307160['size'])return{'diff':!![],'size':![],'diffPos':[]};var _0x428259=[],_0x2bd5e9=![];for(var _0x3e1b13=0x0;_0x3e1b13<_0x307160[_0x5281bd(0x12d)][_0x5281bd(0x136)];_0x3e1b13++){_0x307160[_0x5281bd(0x12d)][_0x3e1b13][_0x5281bd(0x11b)]>_0x336986&&_0x428259[_0x5281bd(0x104)](_0x307160[_0x5281bd(0x12d)][_0x3e1b13]);}if(_0x428259['length']>0x1)return{'diff':!![],'size':!![],'diffPos':_0x428259};return{'diff':![],'size':!![],'diffPos':[]};}function getRectDiffResult(_0x4eb0df,_0x299969){var _0x9facac=_0x4822d1;if(!_0x4eb0df)return null;if(!_0x4eb0df[_0x9facac(0xe7)])return{'diff':![],'size':!![],'diffPos':[]};if(!_0x4eb0df[_0x9facac(0xf3)])return{'diff':!![],'size':![],'diffPos':[]};var _0x26452c=[],_0x13e392=![];for(var _0xd5ab48=0x0;_0xd5ab48<_0x4eb0df[_0x9facac(0x12d)][_0x9facac(0x136)];_0xd5ab48++){var _0x2afa36=!![];for(var _0x2cd0ce=0x0;_0x2cd0ce<_0x299969[_0x9facac(0x136)];_0x2cd0ce++){if(_0x299969[_0x2cd0ce][_0x9facac(0x13a)]&&(_0x299969[_0x2cd0ce]['x']<=_0x4eb0df[_0x9facac(0x12d)][_0xd5ab48]['x']&&_0x4eb0df['diffPos'][_0xd5ab48]['x']<=_0x299969[_0x2cd0ce]['x']+_0x299969[_0x2cd0ce]['width'])&&(_0x299969[_0x2cd0ce]['y']<=_0x4eb0df[_0x9facac(0x12d)][_0xd5ab48]['y']&&_0x4eb0df['diffPos'][_0xd5ab48]['y']<=_0x299969[_0x2cd0ce]['y']+_0x299969[_0x2cd0ce][_0x9facac(0xd6)])){_0x2afa36=![];break;}}_0x2afa36&&_0x26452c[_0x9facac(0x104)](_0x4eb0df[_0x9facac(0x12d)][_0xd5ab48]);}if(_0x26452c['length']>0x1)return{'diff':!![],'size':!![],'diffPos':_0x26452c};return{'diff':![],'size':!![],'diffPos':[]};}function _0x4fef(_0x369a09,_0x3d7055){_0x369a09=_0x369a09-0xb3;var _0x38271a=_0x3827[_0x369a09];return _0x38271a;}function getDiffText(_0x51c07b){var _0x5e4adc=_0x4822d1;if(!_0x51c07b)return'空行との比較';if(!_0x51c07b[_0x5e4adc(0xe7)])return _0x5e4adc(0x134);if(!_0x51c07b[_0x5e4adc(0xf3)])return'画像サイズ違い';return _0x5e4adc(0x12b);}function getCanvas(_0x369e1e,_0x188cc5,_0x2429a3){var _0x1939e1=_0x4822d1,_0x41427e=$(_0x1939e1(0xff)+_0x369e1e+']'),_0x16d358=_0x41427e['find']('.canvas-image[data-image-no='+_0x188cc5+']');if(_0x2429a3==_0x1939e1(0xbe))return _0x16d358['get'](0x0);var _0x4dec67=_0x1939e1(0x131)+_0x2429a3;return _0x16d358[_0x1939e1(0x117)](_0x4dec67)[_0x1939e1(0xde)](0x0);}function addRect(_0x35fb67){var _0x36aa48=_0x4822d1,_0x1693a4=new Date()[_0x36aa48(0xf0)](),_0x2b60c9=_0x1693a4;_0x35fb67[_0x36aa48(0x13a)]=!![],_0x35fb67['id']=_0x1693a4,_0x35fb67[_0x36aa48(0x151)]=_0x2b60c9,addRectRow(_0x35fb67),setTimeout(function(){viewDiff();},0x1);}function addRectRow(_0x34b53f){var _0x56e69a=_0x4822d1,_0x14a535=$(_0x56e69a(0x107)),_0x2b468d=$($(_0x56e69a(0x122))[_0x56e69a(0x15b)]({'rect':_0x34b53f})),_0x255583=_0x14a535[_0x56e69a(0x112)](_0x56e69a(0x11f));_0x2b468d[_0x56e69a(0xe9)](_0x255583);}function viewDiffRect(_0x3fca62,_0x4c013a){var _0x1fcde0=_0x4822d1,_0x3231e2=_0x3fca62[_0x1fcde0(0x112)](_0x1fcde0(0xdf)),_0x4c23cb=_0x3fca62[_0x1fcde0(0xd7)](_0x1fcde0(0x10d));_0x3fca62[_0x1fcde0(0x112)](_0x1fcde0(0x150))['remove']();for(var _0x78788f=0x0;_0x78788f<_0x4c013a[_0x1fcde0(0x136)];_0x78788f++){var _0x24a4fe=$($(_0x1fcde0(0x158))[_0x1fcde0(0x15b)]({'page':_0x4c23cb,'rect':_0x4c013a[_0x78788f]}));_0x24a4fe[_0x1fcde0(0xe9)](_0x3231e2);}}function popWinReload(){var _0x5f3ce6=_0x4822d1;popWin&&!popWin['closed']&&popWin[_0x5f3ce6(0x100)]();}function popWinToggle(_0x1616a8,_0x56af8d){var _0x24f369=_0x4822d1;if(popWin&&!popWin[_0x24f369(0xed)]){var _0x5d43e9=_0x24f369(0x103)+_0x1616a8,_0x1ad4cf=$(popWin[_0x24f369(0x15e)][_0x24f369(0xd2)](_0x5d43e9));_0x56af8d?_0x1ad4cf['hide']():_0x1ad4cf['show']();}}function getRectList(){var _0x2c33bd=_0x4822d1,_0xe01a4d=[];return $[_0x2c33bd(0x125)]($('.rect-row'),function(_0x3cec92,_0x106f9c){var _0x21e079=_0x2c33bd,_0xa03dc5=$(_0x106f9c),_0x3757c2=_0xa03dc5[_0x21e079(0xd7)](_0x21e079(0x15c)),_0x4978da=$(_0x21e079(0x149)+_0x3757c2+']\x20.rect-detail-page'),_0x1abb52=[];$[_0x21e079(0x125)](_0x4978da,function(_0x461d50,_0x42e4fe){_0x1abb52['push'](Number($(_0x42e4fe)['val']())-0x1);}),_0xe01a4d[_0x21e079(0x104)]({'id':_0x3757c2,'checked':_0xa03dc5[_0x21e079(0x112)]('.rect-check')['prop']('checked'),'label':_0xa03dc5['find'](_0x21e079(0xc9))[_0x21e079(0x102)](),'x':Number(_0xa03dc5[_0x21e079(0x112)](_0x21e079(0xea))[_0x21e079(0x102)]()),'y':Number(_0xa03dc5[_0x21e079(0x112)](_0x21e079(0xb4))[_0x21e079(0x102)]()),'width':Number(_0xa03dc5[_0x21e079(0x112)](_0x21e079(0x101))[_0x21e079(0x102)]()),'height':Number(_0xa03dc5[_0x21e079(0x112)](_0x21e079(0xd1))[_0x21e079(0x102)]()),'details':_0x1abb52});}),_0xe01a4d;}function drawRectList(_0xd05de9,_0x11f4a3){var _0x4acf8b=_0x4822d1;const _0x32bc35=_0xd05de9['getContext']('2d'),_0x57b25f=_0xd05de9[_0x4acf8b(0x130)](_0x4acf8b(0x129)),_0x21e8c4=_0xd05de9[_0x4acf8b(0x130)]('height');_0x32bc35[_0x4acf8b(0x133)](0x0,0x0,_0x57b25f,_0x21e8c4);if(!_0xd05de9)return;for(var _0x168a85=0x0;_0x168a85<_0x11f4a3['length'];_0x168a85++){var _0x3fd67e=_0x11f4a3[_0x168a85];_0x3fd67e[_0x4acf8b(0x13a)]&&_0x32bc35[_0x4acf8b(0xb8)](_0x3fd67e['x'],_0x3fd67e['y'],_0x3fd67e[_0x4acf8b(0x129)],_0x3fd67e[_0x4acf8b(0xd6)]);}}var popWin=null;$(function(){var _0x552871=_0x4822d1;window[_0x552871(0x141)]=function(){var _0x58e6a5=_0x552871;popWin&&!popWin[_0x58e6a5(0xed)]&&popWin['close']();},$('.select-file')['on'](_0x552871(0xc7),function(_0x133018){var _0x9fa487=_0x552871,_0x5310e0=_0x133018[_0x9fa487(0x14d)][_0x9fa487(0xc1)]||_0x133018[_0x9fa487(0xe3)]['files'];if(!_0x5310e0[_0x9fa487(0x136)])return;var _0x24fe53=_0x5310e0[0x0],_0x548580=$(_0x133018[_0x9fa487(0x14d)])[_0x9fa487(0xee)](_0x9fa487(0x10e)),_0x589ca6=_0x548580['find']('.file-name');_0x548580[_0x9fa487(0xd7)]('data-loaded',!![]);var _0x55c10c='',_0xf0605=_0x24fe53['name'][_0x9fa487(0xd9)]('.');_0xf0605>=0x0&&(_0x55c10c=_0x24fe53['name']['slice'](_0xf0605+0x1)[_0x9fa487(0xda)]());var _0x504a80=new $[(_0x9fa487(0xef))]();_0x504a80[_0x9fa487(0x142)](),dispLoading('ファイル取得中');if(_0x55c10c==_0x9fa487(0xc0))getFileBase64(_0x24fe53)[_0x9fa487(0xb9)](function(_0x5ead6f){getPdfImage(_0x5ead6f)['done'](function(_0x313361){var _0x5bfef6=_0x4fef;setupImageTable(_0x548580,_0x313361)[_0x5bfef6(0xd4)](function(){var _0x5d246c=_0x5bfef6;_0x504a80[_0x5d246c(0xd5)]();});var _0x4bb31b=getDownloadTag(JSON['stringify'](_0x313361),_0x24fe53['name']+_0x5bfef6(0x13d));_0x589ca6[_0x5bfef6(0x12e)](_0x4bb31b);});});else _0x55c10c==_0x9fa487(0xb6)?(dispLoading('ファイル取得中'),getFileText(_0x24fe53)[_0x9fa487(0xb9)](function(_0x29af5d){var _0x3e819b=_0x9fa487;setupImageTable(_0x548580,JSON[_0x3e819b(0x14f)](_0x29af5d))['always'](function(){var _0x4019ec=_0x3e819b;_0x504a80[_0x4019ec(0xd5)]();}),_0x589ca6['text'](_0x24fe53['name']);})):(alert('拡張子がおかしい'),console[_0x9fa487(0x15f)](_0x24fe53[_0x9fa487(0xce)]),console[_0x9fa487(0x15f)](_0x55c10c),_0x504a80[_0x9fa487(0xf9)]());$[_0x9fa487(0xe1)](_0x504a80)[_0x9fa487(0xd4)](function(){removeLoading();});}),$('body')['on'](_0x552871(0xdb),'.blank-add',function(_0x2e7f4f){var _0x367a48=_0x552871,_0x2ffaa5=$(_0x2e7f4f['target'])[_0x367a48(0xee)](_0x367a48(0x10e)),_0x2c85b4=_0x2ffaa5[_0x367a48(0xd7)](_0x367a48(0x148)),_0x298335=$(_0x2e7f4f[_0x367a48(0x14d)])[_0x367a48(0xee)]('.image-tr'),_0x1577e0=Number(_0x298335['attr'](_0x367a48(0x10d)));$[_0x367a48(0x125)]($(_0x367a48(0x144)+_0x2c85b4+'\x22]')[_0x367a48(0x112)](_0x367a48(0x116)),function(_0x1de353,_0x4a1b5c){var _0x222322=_0x367a48,_0x36823d=Number($(_0x4a1b5c)[_0x222322(0xd7)](_0x222322(0x10d)));_0x36823d>=_0x1577e0&&$(_0x4a1b5c)[_0x222322(0xd7)](_0x222322(0x10d),_0x36823d+0x1);});var _0x383c32=$($(_0x367a48(0x14c))[_0x367a48(0x15b)]({'idx':_0x1577e0}));_0x383c32['insertBefore'](_0x298335),viewDiff();}),$('body')['on'](_0x552871(0xdb),_0x552871(0xc2),function(_0x5685b7){var _0x3fcd5a=_0x552871,_0x164023=$(_0x5685b7[_0x3fcd5a(0x14d)])['closest'](_0x3fcd5a(0x10e)),_0x43cdb6=_0x164023['attr'](_0x3fcd5a(0x148)),_0x52c592=$(_0x5685b7[_0x3fcd5a(0x14d)])[_0x3fcd5a(0xee)](_0x3fcd5a(0x116)),_0x56ffbd=Number(_0x52c592[_0x3fcd5a(0xd7)](_0x3fcd5a(0x10d)));$['each']($(_0x3fcd5a(0x144)+_0x43cdb6+'\x22]')[_0x3fcd5a(0x112)]('.image-tr'),function(_0x45efc0,_0x46119d){var _0x13640a=_0x3fcd5a,_0x306ff5=Number($(_0x46119d)[_0x13640a(0xd7)](_0x13640a(0x10d)));_0x306ff5>=_0x56ffbd&&$(_0x46119d)['attr'](_0x13640a(0x10d),_0x306ff5-0x1);}),_0x52c592[_0x3fcd5a(0x135)](),viewDiff();}),$(_0x552871(0xf6))['on']('mouseup',function(_0x4c5fdb){viewDiff();}),$('#diff-btn')['on'](_0x552871(0xdb),function(_0x35e17b){doDiff();}),$(_0x552871(0x154))['on'](_0x552871(0xc7),function(_0x5df011){var _0x53adef=_0x552871;const _0x424010=$(_0x53adef(0x154))[_0x53adef(0xd0)](_0x53adef(0x13a));_0x424010?$(_0x53adef(0x118))[_0x53adef(0x13c)]():$(_0x53adef(0x118))['show'](),popWinToggle(_0x53adef(0xc6),_0x424010);}),$(_0x552871(0x115))['on'](_0x552871(0xc7),function(_0x406f1c){var _0x46e68a=_0x552871;const _0x3ebc04=$('#image-toggle')[_0x46e68a(0xd0)](_0x46e68a(0x13a));_0x3ebc04?$(_0x46e68a(0x10f))['hide']():$(_0x46e68a(0x10f))[_0x46e68a(0x10a)](),popWinToggle(_0x46e68a(0xbe),_0x3ebc04);}),$(_0x552871(0x159))['on'](_0x552871(0xc7),function(_0x40054e){var _0x300662=_0x552871;const _0x39f7ae=$(_0x300662(0x159))[_0x300662(0xd0)]('checked');_0x39f7ae?$(_0x300662(0x105))[_0x300662(0x13c)]():$(_0x300662(0x105))[_0x300662(0x10a)](),popWinToggle('rect',_0x39f7ae);}),$(_0x552871(0x10c))['on'](_0x552871(0xc7),function(_0x452fe4){var _0x6d290=_0x552871;$(_0x6d290(0x121))['show']();const _0x29ee8b=$(_0x6d290(0x10c))[_0x6d290(0xd0)]('checked');_0x29ee8b&&$['each']($('.diff-tr'),function(_0x5d885c,_0x10d686){var _0x58e054=_0x6d290;_0x10d686[_0x58e054(0x130)](_0x58e054(0xe4))==_0x58e054(0x109)&&$(_0x58e054(0x110)+_0x5d885c+']')[_0x58e054(0x13c)]();});}),$(_0x552871(0x152))['on']('change',function(_0x12b0d3){var _0x1fc9a8=_0x552871;const _0x33f783=$(_0x1fc9a8(0x152))['prop'](_0x1fc9a8(0x13a));_0x33f783?$('#diff-btn')[_0x1fc9a8(0x10a)]():$(_0x1fc9a8(0x153))[_0x1fc9a8(0x13c)]();}),$(_0x552871(0x13f))['on']('click',_0x552871(0xcf),function(_0x355273){var _0x276bfb=_0x552871,_0x334e8e=$(_0x355273['target'])[_0x276bfb(0xee)](_0x276bfb(0x10e));$canvasImage=$(_0x355273[_0x276bfb(0x14d)])[_0x276bfb(0x117)](_0x276bfb(0x10f));var _0x1d0e8c=_0x334e8e[_0x276bfb(0xd7)](_0x276bfb(0x148)),_0x21fea0=$canvasImage[_0x276bfb(0xd7)](_0x276bfb(0xc3));popWin=window[_0x276bfb(0x11a)]('./imagepopup.html?kbn='+_0x1d0e8c+_0x276bfb(0xc5)+_0x21fea0,_0x276bfb(0x11e),_0x276bfb(0xd8));});});